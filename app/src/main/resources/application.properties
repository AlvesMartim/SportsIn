# Configuration Spring Boot pour SportsIn
# Le projet utilise SQLite créé via le script create_database.sh

# ============================================
# DATABASE CONFIGURATION
# ============================================
# SQLite database - utilise le chemin parent du projet
spring.datasource.url=jdbc:sqlite:../sportsin.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=

# ============================================
# JPA / HIBERNATE CONFIGURATION
# ============================================
# Dialect pour SQLite
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect

# DDL auto ne crée/modifie pas de tables (la BD est créée par schema.sql)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.hibernate.jdbc.lob.non_contextual_creation=true

# Affichage du SQL
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Initialiser la base de données avec schema.sql au démarrage
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:schema.sql,classpath:data.sql

# ============================================
# SERVER CONFIGURATION
# ============================================
server.port=8080
server.servlet.context-path=/
spring.application.name=SportsIn

# ============================================
# MISSION SCHEDULER
# ============================================
# Mettre à false pour désactiver le scheduler de missions (utile en test)
mission.scheduler.enabled=true

# ============================================
# LOGGING
# ============================================
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
